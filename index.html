<!DOCTYPE html>
<html>
    <title>Rawsay</title>
    <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="scripting/minecraft.css">
    <link rel="stylesheet" href="scripting/html.css">
    </head>
    <h1 class="white bold noselect">/rawsay</h1>
    <h3 class="darkgray bold italic noselect">by xTeal</h3>
    <body class="gray">
        <span class="noselect">
        Minecraft Tellraw Generator, like ColorChat, but on a website. 
        For a guide, take a look at the table below for a color code guide. 
        Results may not be accurate, my "tool" is still in beta! 
        This tool doesn't support hover events, click events, etc.. If you'd 
        like to actually see those features, fill out an issue on the Github located 
        at the bottom of the page, followed with syntax that you'd think would work.
        <br>
        Also, I'm not going to be the one responsible for misusage of this site. 

        </span>
        <br><br>
        <table>
        <caption style="font-size: 30px;">Color Reference Table</caption>
          <tr>
            <th class="noselect">Name</th>
            <th class="noselect">Code</th>
            <th class="noselect">Effect</th>
            <th class="noselect">Type</th>
          </tr>
          <tr>
            <td class="noselect">Light Purple</td>
            <td class="">&d</td>
            <td class="lightpurple noselect">Light Purple</td>
            <td class="noselect">Color</td>
          </tr>
          <tr>
            <td class="noselect">Dark Purple</td>
            <td class="">&5</td>
            <td class="darkpurple noselect">Dark Purple</td>
            <td class="noselect">Color</td>
          </tr>
          <tr>
            <td class="noselect">Dark Red</td>
            <td class="">&4</td>
            <td class="darkred noselect">Dark Red</td>
            <td class="noselect">Color</td>
          </tr>
          <tr>
            <td class="noselect">Red</td>
            <td class="">&c</td>
            <td class="red noselect">Red</td>
            <td class="noselect">Color</td>
          </tr>
          <tr>
            <td class="noselect">Gold</td>
            <td class="">&6</td>
            <td class="gold noselect">Gold</td>
            <td class="noselect">Color</td>
          </tr>
          <tr>
            <td class="noselect">Yellow</td>
            <td class="">&e</td>
            <td class="yellow noselect">Yellow</td>
            <td class="noselect">Color</td>
          </tr>
          <tr>
            <td class="noselect">Green</td>
            <td class="">&a</td>
            <td class="green noselect">Green</td>
            <td class="noselect">Color</td>
          </tr>
          <tr>
            <td class="noselect">Dark Green</td>
            <td class="">&2</td>
            <td class="darkgreen noselect">Dark Green</td>
            <td class="noselect">Color</td>
          </tr>
          <tr>
            <td class="noselect">Dark Blue</td>
            <td class="">&1</td>
            <td class="darkblue noselect">Dark Blue</td>
            <td class="noselect">Color</td>
          </tr>
          <tr>
            <td class="noselect">Blue</td>
            <td class="">&9</td>
            <td class="blue noselect">Blue</td>
            <td class="noselect">Color</td>
          </tr>
          <tr>
            <td class="noselect">Dark Aqua</td>
            <td class="">&3</td>
            <td class="darkaqua noselect">Dark Aqua</td>
            <td class="noselect">Color</td>
          </tr>
          <tr>
            <td class="noselect">Aqua</td>
            <td class="">&b</td>
            <td class="aqua noselect">Aqua</td>
            <td class="noselect">Color</td>
          </tr>
          <tr>
            <td class="noselect">White</td>
            <td class="">&f</td>
            <td class="white noselect">White</td>
            <td class="noselect">Color</td>
          </tr>
          <tr>
            <td class="noselect">Gray</td>
            <td class="">&7</td>
            <td class="gray noselect">Gray</td>
            <td class="noselect">Color</td>
          </tr>
          <tr>
            <td class="noselect">Dark Gray</td>
            <td class="">&8</td>
            <td class="darkgray noselect">Dark Gray</td>
            <td class="noselect">Color</td>
          </tr>
          <tr>
            <td class="noselect">Black</td>
            <td class="">&0</td>
            <td class="black noselect">Black</td>
            <td class="noselect">Color</td>
          </tr>

          <tr style="background-color: black">
            <td class="noselect"></td>
            <td class="noselect"></td>
            <td class="noselect"></td>
            <td class="noselect"></td>
          </tr>

          <tr>
            <td class="noselect">Bold</td>
            <td class="">&l</td>
            <td class="bold noselect">Bold</td>
            <td class="noselect">Styling</td>
          </tr>
          <tr>
            <td class="noselect">Italic</td>
            <td class="">&o</td>
            <td class="italic noselect">Italic</td>
            <td class="noselect">Styling</td>
          </tr>
          <tr>
            <td class="noselect">Underlined</td>
            <td class="">&n</td>
            <td class="underlined noselect">Underlined</td>
            <td class="noselect">Styling</td>
          </tr>
          <tr>
            <td class="noselect">Strikethrough</td>
            <td class="">&m</td>
            <td class="strikethrough noselect">Strikethrough</td>
            <td class="noselect">Styling</td>
          </tr>
          <tr>
            <td class="noselect">Obfuscated</td>
            <td class="">&k</td>
            <td class="obfuscated noselect">Obfuscated</td>
            <td class="noselect">Styling</td>
          </tr>
          <tr>
            <td class="noselect">Reset</td>
            <td class="">&r</td>
            <td class="noselect">Reset</td>
            <td class="noselect">Reset</td>
          </tr>
        </table>
        
        </body>

    <script type="text/javascript" src="scripting/preview.js"></script>
    <script type="text/javascript" src="scripting/json.js"></script>
    <script>
        function makeId(str) {
           var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
           str = str.split('').map(char => /\s+/.test(char) ? char : characters.split('')[Math.floor(Math.random() * characters.length)]).join('');
           return str;
        };

        setInterval(() => {
            var obfuscate = document.getElementsByClassName('obfuscated');
            if(obfuscate.length) {
                for(var element of obfuscate) {
                    var text = element.innerText;
                    element.innerText=makeId(text);
                };
            };
        }, 10);

        window.onbeforeunload = function() {
           return "Do you really want to leave this page?\nYour work isn't being saved!";
        };

        function toggleClass(id) {
            var element = document.getElementById(id);
            if(!element) return;
            switch(element.className.split(/\s+/)[0]) {
                case 'greenButton':
                    element.className = 'redButton noselect';
                break;
                case 'redButton':
                    element.className = 'greenButton noselect';
                break;
            };
        };

        function executeQuestionMark(id, fun) {
            var element = document.getElementById(id);
            if(element.className.includes("greenButton")) fun();
        };

        function rawPaste(id) {
            
        };

        function CopyToClipboard(id) {
            var range = document.createRange();
            range.selectNode(id); //changed here
            window.getSelection().removeAllRanges(); 
            window.getSelection().addRange(range); 
            document.execCommand("copy");
            window.getSelection().removeAllRanges();
            alert("data copied");
        };
    </script>

    <a class="divider"></a>
    <h1 class="white bold noselect">Input Field</h1>
    <textarea class="chatBox" contenteditable="true" id="input" 
    oninput='this.style.height = "";
    this.style.height = this.scrollHeight + "px";
    rawPaste(id);
    executeQuestionMark("autoPreviewButton", previewClick);
    executeQuestionMark("autoJSONButton", jsonClick);'
    style="font-family: Minecraft;"></textarea>
    <h1></h1>

    <a class="divider"></a>
    <h1 class="white bold noselect">Preview</h1>
    <div class="chatBox noselect" id="output" readonly="true" oninput='this.style.height = "";this.style.height = this.scrollHeight + "px"' style="font-family: Minecraft;">
    </div>
    <a id="previewButton" class="greenButton noselect" onclick="previewClick();"> Preview</a>
    <a id="autoPreviewButton" class="redButton noselect" onclick="toggleClass(id);">Toggle Auto-Preview</a>
<!--    <a id="copyOutput" class="copyButton noselect" onclick="CopyToClipboard('output');">Copy Output</a> -->

    <a class="divider"></a>
    <h1 class="white bold noselect">JSON Code</h1>
    <div class="chatBox" id="json" style=" color: white;" oninput='this.style.height = "";this.style.height = this.scrollHeight + "px"' style="font-family: 'Courier New', Courier, monospace;"></div>
    <a id="JSONButton" class="greenButton noselect" onclick="jsonClick();">Show JSON</a>
    <a id="autoJSONButton" class="redButton noselect" onclick="toggleClass(id);">Toggle Auto-JSON</a>
<!--    <a id="copyJSON" class="copyButton noselect" onclick="CopyToClipboard('jsonChatBox');">Copy JSON</a> -->
<a class="divider"></a>
<h1 class="white bold noselect">Miscellaneous</h1>
<a class="copyButton noselect" href="https://github.com/nonoteal/rawsay">Visit The Github!</a>
<a class="copyButton noselect">Version: 1.0.1 BETA</a>
</html>