<!DOCTYPE html>
<html>
    <title>Rawsay</title>
    <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="scripting/minecraft.css">
    <link rel="stylesheet" href="scripting/html.css">
    </head>
    <h1 class="white bold no_select">/rawsay</h1>
    <h3 class="dark_gray bold italic no_select">by xTeal</h3>
    <body class="gray">
        <span class="no_select">
        Minecraft Tellraw Generator, like ColorChat, but on a website. 
        For a guide, take a look at the table below for a color code guide. 
        Results may not be accurate, my "tool" is still in beta! 
        This tool doesn't support hover events, click events, etc.. If you'd 
        like to actually see those features, fill out an issue on the Github located 
        at the bottom of the page, followed with syntax that you'd think would work.
        <br>
        Also, I'm not going to be the one responsible for misusage of this site. 

        </span>
        <br><br>
        <table>
        <caption style="font-size: 30px;">Color Reference Table</caption>
          <tr>
            <th class="no_select">Name</th>
            <th class="no_select">Code</th>
            <th class="no_select">Effect</th>
            <th class="no_select">Type</th>
          </tr>
          <tr>
            <td class="no_select">Light Purple</td>
            <td class="">&d</td>
            <td class="light_purple no_select">Light Purple</td>
            <td class="no_select">Color</td>
          </tr>
          <tr>
            <td class="no_select">Dark Purple</td>
            <td class="">&5</td>
            <td class="dark_purple no_select">Dark Purple</td>
            <td class="no_select">Color</td>
          </tr>
          <tr>
            <td class="no_select">Dark Red</td>
            <td class="">&4</td>
            <td class="dark_red no_select">Dark Red</td>
            <td class="no_select">Color</td>
          </tr>
          <tr>
            <td class="no_select">Red</td>
            <td class="">&c</td>
            <td class="red no_select">Red</td>
            <td class="no_select">Color</td>
          </tr>
          <tr>
            <td class="no_select">Gold</td>
            <td class="">&6</td>
            <td class="gold no_select">Gold</td>
            <td class="no_select">Color</td>
          </tr>
          <tr>
            <td class="no_select">Yellow</td>
            <td class="">&e</td>
            <td class="yellow no_select">Yellow</td>
            <td class="no_select">Color</td>
          </tr>
          <tr>
            <td class="no_select">Green</td>
            <td class="">&a</td>
            <td class="green no_select">Green</td>
            <td class="no_select">Color</td>
          </tr>
          <tr>
            <td class="no_select">Dark Green</td>
            <td class="">&2</td>
            <td class="dark_green no_select">Dark Green</td>
            <td class="no_select">Color</td>
          </tr>
          <tr>
            <td class="no_select">Dark Blue</td>
            <td class="">&1</td>
            <td class="dark_blue no_select">Dark Blue</td>
            <td class="no_select">Color</td>
          </tr>
          <tr>
            <td class="no_select">Blue</td>
            <td class="">&9</td>
            <td class="blue no_select">Blue</td>
            <td class="no_select">Color</td>
          </tr>
          <tr>
            <td class="no_select">Dark Aqua</td>
            <td class="">&3</td>
            <td class="dark_aqua no_select">Dark Aqua</td>
            <td class="no_select">Color</td>
          </tr>
          <tr>
            <td class="no_select">Aqua</td>
            <td class="">&b</td>
            <td class="aqua no_select">Aqua</td>
            <td class="no_select">Color</td>
          </tr>
          <tr>
            <td class="no_select">White</td>
            <td class="">&f</td>
            <td class="white no_select">White</td>
            <td class="no_select">Color</td>
          </tr>
          <tr>
            <td class="no_select">Gray</td>
            <td class="">&7</td>
            <td class="gray no_select">Gray</td>
            <td class="no_select">Color</td>
          </tr>
          <tr>
            <td class="no_select">Dark Gray</td>
            <td class="">&8</td>
            <td class="dark_gray no_select">Dark Gray</td>
            <td class="no_select">Color</td>
          </tr>
          <tr>
            <td class="no_select">Black</td>
            <td class="">&0</td>
            <td class="black no_select">Black</td>
            <td class="no_select">Color</td>
          </tr>

          <tr style="background-color: black">
            <td class="no_select"></td>
            <td class="no_select"></td>
            <td class="no_select"></td>
            <td class="no_select"></td>
          </tr>

          <tr>
            <td class="no_select">Bold</td>
            <td class="">&l</td>
            <td class="bold no_select">Bold</td>
            <td class="no_select">Styling</td>
          </tr>
          <tr>
            <td class="no_select">Italic</td>
            <td class="">&o</td>
            <td class="italic no_select">Italic</td>
            <td class="no_select">Styling</td>
          </tr>
          <tr>
            <td class="no_select">Underlined</td>
            <td class="">&n</td>
            <td class="underlined no_select">Underlined</td>
            <td class="no_select">Styling</td>
          </tr>
          <tr>
            <td class="no_select">Strikethrough</td>
            <td class="">&m</td>
            <td class="strikethrough no_select">Strikethrough</td>
            <td class="no_select">Styling</td>
          </tr>
          <tr>
            <td class="no_select">Obfuscated</td>
            <td class="">&k</td>
            <td class="obfuscated no_select">Obfuscated</td>
            <td class="no_select">Styling</td>
          </tr>
          <tr>
            <td class="no_select">Reset</td>
            <td class="">&r</td>
            <td class="no_select">Reset</td>
            <td class="no_select">Reset</td>
          </tr>
        </table>
        
        </body>

    <script type="text/javascript" src="scripting/preview.js"></script>
    <script type="text/javascript" src="scripting/json.js"></script>
    <script>
        function makeId(str) {
           var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
           str = str.split('').map(char => /\s+/.test(char) ? char : characters.split('')[Math.floor(Math.random() * characters.length)]).join('');
           return str;
        };

        setInterval(() => {
            var obfuscate = document.getElementsByClassName('obfuscated');
            if(obfuscate.length) {
                for(var element of obfuscate) {
                    var text = element.innerText;
                    element.innerText=makeId(text);
                };
            };
        }, 10);

        window.onbeforeunload = function() {
           return "Do you really want to leave this page?\nYour work isn't being saved!";
        };

        function toggleClass(id) {
            var element = document.getElementById(id);
            if(!element) return;
            switch(element.className.split(/\s+/)[0]) {
                case 'greenButton':
                    element.className = 'redButton no_select';
                break;
                case 'redButton':
                    element.className = 'greenButton no_select';
                break;
            };
        };

        function executeQuestionMark(id, fun) {
            var element = document.getElementById(id);
            if(element.className.includes("greenButton")) fun();
        };

        function rawPaste(id) {
            
        };

        function CopyToClipboard(id) {
            var range = document.createRange();
            range.selectNode(id); //changed here
            window.getSelection().removeAllRanges(); 
            window.getSelection().addRange(range); 
            document.execCommand("copy");
            window.getSelection().removeAllRanges();
            alert("data copied");
        };
    </script>

    <a class="divider"></a>
    <h1 class="white bold no_select">Input Field</h1>
    <textarea class="chatBox" contenteditable="true" id="input" 
    oninput='this.style.height = "";
    this.style.height = this.scrollHeight + "px";
    rawPaste(id);
    executeQuestionMark("autoPreviewButton", previewClick);
    executeQuestionMark("autoJSONButton", jsonClick);'
    style="font-family: Minecraft;"></textarea>
    <h1></h1>

    <a class="divider"></a>
    <h1 class="white bold no_select">Preview</h1>
    <div class="chatBox no_select" id="output" readonly="true" oninput='this.style.height = "";this.style.height = this.scrollHeight + "px"' style="font-family: Minecraft;">
    </div>
    <a id="previewButton" class="greenButton no_select" onclick="previewClick();"> Preview</a>
    <a id="autoPreviewButton" class="redButton no_select" onclick="toggleClass(id);">Toggle Auto-Preview</a>
<!--    <a id="copyOutput" class="copyButton no_select" onclick="CopyToClipboard('output');">Copy Output</a> -->

    <a class="divider"></a>
    <h1 class="white bold no_select">JSON Code</h1>
    <div class="chatBox" id="json" style=" color: white;" oninput='this.style.height = "";this.style.height = this.scrollHeight + "px"' style="font-family: 'Courier New', Courier, monospace;"></div>
    <a id="JSONButton" class="greenButton no_select" onclick="jsonClick();">Show JSON</a>
    <a id="autoJSONButton" class="redButton no_select" onclick="toggleClass(id);">Toggle Auto-JSON</a>
<!--    <a id="copyJSON" class="copyButton no_select" onclick="CopyToClipboard('jsonChatBox');">Copy JSON</a> -->
<a class="divider"></a>
<h1 class="white bold no_select">Miscellaneous</h1>
<a class="copyButton no_select" href="https://github.com/nonoteal/rawsay">Visit The Github!</a>
<a class="copyButton no_select">Version: 1.0.0 BETA</a>
</html>